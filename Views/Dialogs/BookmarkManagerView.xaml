<views:ODWindowBase  xmlns:views="clr-namespace:ODMVVM.Views;assembly=ODMVVM"
                     x:Class="ODEliteTracker.Views.Dialogs.BookmarkManagerView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:local="clr-namespace:ODEliteTracker.Views.Dialogs"
                     xmlns:viewmodels="clr-namespace:ODEliteTracker.ViewModels"
                     xmlns:services="clr-namespace:ODEliteTracker.Services"
                     xmlns:controls="clr-namespace:ODMVVM.Controls;assembly=ODMVVM"
                     mc:Ignorable="d"
                     Background="{DynamicResource ViewBackground}"
                     Foreground="{DynamicResource PrimaryForeground}"
                     d:DataContext="{d:DesignInstance viewmodels:BookmarkManagerViewModel}"
                     Title="Bookmarks"
                     Width="1200"
                     Height="800"
                     FontFamily="{DynamicResource Eurostile}"
                     FontSize="18"
                     x:Name="Root"
                     WindowStartupLocation="CenterScreen">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="25"
                      GlassFrameThickness="1"
                      ResizeBorderThickness="10" />
    </WindowChrome.WindowChrome>
    <Border BorderThickness="{Binding ElementName=Root, Path=MainWindowBorderThickness}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition />
            </Grid.RowDefinitions>

            <views:ODTitleBar TitleBarIcon="/Assets/Icons/bookmark.png"
                              ColourImageIcon="True"
                              TitleBarForeground="{DynamicResource TitlebarForeGround}"
                              TitleBarBackground="{DynamicResource TitleBarBackGround}"
                              TitleBarMouseOver="{DynamicResource TitlebarMouseOver}" />

            <Grid Grid.Row="1">
                <Grid.LayoutTransform>
                    <ScaleTransform ScaleX="{Binding UiScale}"
                                    ScaleY="{Binding UiScale}" />
                </Grid.LayoutTransform>             
                <TabControl Grid.Row="1"
                            Margin="5">
                    <TabItem Header="Current System">
                        <Grid  Margin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    Width="Auto"
                                    Height="Auto"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Current System"
                                               Grid.ColumnSpan="4"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />
                                    <TextBlock Text="Name"
                                               Grid.Row="1"
                                               Margin="5" />
                                    <TextBlock Text="{Binding CurrentBookmark.Name}"
                                               Grid.Row="1"
                                               Grid.Column="1"
                                               TextAlignment="Left"
                                               HorizontalAlignment="Left"
                                               Margin="5" />

                                    <TextBlock Text="Address"
                                               Grid.Row="2"
                                               Margin="5" />
                                    <TextBlock Text="{Binding CurrentBookmark.Address}"
                                               Grid.Row="2"
                                               Grid.Column="1"
                                               Width="100"
                                               TextAlignment="Left"
                                               HorizontalAlignment="Left"
                                               Margin="5" />

                                    <TextBlock Text="X"
                                               Grid.Column="3"
                                               Grid.Row="1"
                                               Width="100"
                                               TextAlignment="Center"
                                               Margin="5" />
                                    <TextBlock Text="{Binding CurrentBookmark.XString}"
                                               Grid.Column="3"
                                               Grid.Row="2"
                                               Width="100"
                                               TextAlignment="Center"
                                               Margin="5" />

                                    <TextBlock Text="Y"
                                               Grid.Column="4"
                                               Grid.Row="1"
                                               Width="100"
                                               TextAlignment="Center"
                                               Margin="5" />
                                    <TextBlock Text="{Binding CurrentBookmark.YString}"
                                               Grid.Column="4"
                                               Grid.Row="2"
                                               Width="100"
                                               TextAlignment="Center"
                                               Margin="5" />

                                    <TextBlock Text="Z"
                                               Grid.Column="5"
                                               Grid.Row="1"
                                               Width="100"
                                               TextAlignment="Center"
                                               Margin="5" />
                                    <TextBlock Text="{Binding CurrentBookmark.ZString}"
                                               Grid.Column="5"
                                               Width="100"
                                               Grid.Row="2"
                                               TextAlignment="Center"
                                               Margin="5" />
                                </Grid>
                            </Border>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    Grid.Column="1"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Links"
                                               Grid.ColumnSpan="4"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />

                                    <WrapPanel Orientation="Horizontal"
                                               Grid.Row="1"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center">
                                        <Button Command="{Binding OpenWebsiteCommand}"
                                                CommandParameter="{x:Static services:Website.Inara}"
                                                Style="{DynamicResource ClipboardBtn}"
                                                Height="30"
                                                Margin="10,0"
                                                Cursor="Hand"
                                                Grid.Column="1">
                                            <Image Stretch="Uniform"
                                                   SnapsToDevicePixels="True"
                                                   Source="/Assets/Icons/inaramenulogo.png" />
                                        </Button>

                                        <Button Command="{Binding OpenWebsiteCommand}"
                                                CommandParameter="{x:Static services:Website.Spansh}"
                                                Style="{DynamicResource ClipboardBtn}"
                                                Height="30"
                                                Margin="10,0"
                                                Cursor="Hand"
                                                Grid.Column="1">
                                            <Image Stretch="Uniform"
                                                   SnapsToDevicePixels="True"
                                                   Source="/Assets/Icons/spansh.png" />
                                        </Button>

                                        <Button Command="{Binding OpenWebsiteCommand}"
                                                CommandParameter="{x:Static services:Website.Edsm}"
                                                Style="{DynamicResource ClipboardBtn}"
                                                Height="30"
                                                Margin="10,0"
                                                Cursor="Hand"
                                                Grid.Column="1">
                                            <Image Stretch="Uniform"
                                                   SnapsToDevicePixels="True"
                                                   Source="/Assets/Icons/edsmlogo.png" />
                                        </Button>
                                    </WrapPanel>
                                </Grid>
                            </Border>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    Grid.Row="1"
                                    Height="120"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="System Notes"
                                               Grid.ColumnSpan="4"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />

                                    <TextBox Grid.Row="1"
                                             Margin="5"
                                             Style="{DynamicResource PopOutTextBox}"
                                             Foreground="{DynamicResource PrimaryForeground}"
                                             Text="{Binding CurrentBookmark.Notes}" />
                                </Grid>
                            </Border>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    Grid.Row="2"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Selected Bookmark"
                                               Grid.ColumnSpan="4"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />

                                    <TextBlock Text="Body"
                                               Grid.Row="1"
                                               Margin="5" />
                                    <ComboBox ItemsSource="{Binding CurrentSystem.Bodies}"
                                              SelectedItem="{Binding SelectedBody, Mode=TwoWay}"
                                              DisplayMemberPath="BodyNameLocal"
                                              Margin="5"
                                              Width="150"
                                              Grid.Row="2" />

                                    <TextBlock Text="Name"
                                               Grid.Row="1"
                                               Grid.Column="1"
                                               Margin="5" />
                                    <TextBox Margin="5"
                                             Style="{DynamicResource PopOutTextBox}"
                                             Text="{Binding SelectedBookmark.BookmarkName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                             Foreground="{DynamicResource PrimaryForeground}"
                                             Width="150"
                                             Grid.Column="1"
                                             Grid.Row="2" />

                                    <TextBlock Text="Description"
                                               Grid.Row="1"
                                               Grid.Column="2"
                                               Margin="5" />
                                    <TextBox Margin="5"
                                             Style="{DynamicResource PopOutTextBox}"
                                             Text="{Binding SelectedBookmark.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                             Foreground="{DynamicResource PrimaryForeground}"
                                             Grid.Column="2"
                                             Grid.Row="2" />

                                    <TextBlock Text="Latitude"
                                               Grid.Row="1"
                                               Grid.Column="3"
                                               Margin="5" />
                                    <controls:NumberInputBox Width="150"
                                                             Foreground="{DynamicResource PrimaryForeground}"
                                                             Grid.Column="3"
                                                             Grid.Row="2"
                                                             Margin="5,0"
                                                             InputText="{Binding SelectedBookmark.LatString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             VerticalContentAlignment="Center"
                                                             TextBlock.TextAlignment="Right" />

                                    <TextBlock Text="Longitude"
                                               Grid.Row="1"
                                               Grid.Column="4"
                                               Margin="5" />
                                    <controls:NumberInputBox Width="150"
                                                             Grid.Column="4"
                                                             Grid.Row="2"
                                                             Margin="5,0"
                                                             Foreground="{DynamicResource PrimaryForeground}"
                                                             InputText="{Binding SelectedBookmark.LonString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             VerticalContentAlignment="Center"
                                                             TextBlock.TextAlignment="Right" />

                                    <Button Style="{DynamicResource EliteStyleButton}"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE710;"
                                            Grid.Column="5"
                                            Grid.Row="2"
                                            Margin="2"
                                            Command="{Binding AddBookmarkCommand}"
                                            CommandParameter="{Binding SelectedBookmark}" />

                                    <Button Style="{DynamicResource EliteStyleButton}"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE74E;"
                                            Grid.Column="6"
                                            Grid.Row="2"
                                            Margin="2"
                                            Command="{Binding SaveBookmarkCommand}" />

                                    <Button Style="{DynamicResource EliteStyleButton}"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE74D;"
                                            Grid.Column="7"
                                            Grid.Row="2"
                                            Margin="2"
                                            Command="{Binding DeleteBookmarkCommand}" />
                                </Grid>
                            </Border>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    Grid.Row="3"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Bookmarks"
                                               Margin="5"
                                               Grid.ColumnSpan="4"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />

                                    <DataGrid ItemsSource="{Binding CurrentSystemBookmarks}"
                                              HeadersVisibility="Column"
                                              Grid.Row="1"
                                              Margin="5"
                                              MinRowHeight="30"
                                              BorderThickness="0"
                                              x:Name="CurrentSystemBookmarks"
                                              AlternatingRowBackground="{DynamicResource RowAlternationColour}"
                                              Style="{StaticResource BaseDataGridStyle}"
                                              RowStyle="{DynamicResource NoSelectRowStyle}">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Binding="{Binding BodyNameLocal}"
                                                                HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                CellStyle="{DynamicResource NoSelectCell}"
                                                                MinWidth="100"
                                                                Header="Body" />
                                            <DataGridTextColumn Binding="{Binding BookmarkName}"
                                                                HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                CellStyle="{DynamicResource NoSelectCell}"
                                                                MinWidth="100"
                                                                Header="Name" />
                                            <DataGridTextColumn Binding="{Binding Description}"
                                                                HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                CellStyle="{DynamicResource NoSelectCell}"
                                                                Width="*"
                                                                Header="Description" />
                                            <DataGridTextColumn Binding="{Binding Latitude}"
                                                                MinWidth="100"
                                                                HeaderStyle="{DynamicResource DataGridHeaderCenter}"
                                                                CellStyle="{DynamicResource NoSelectCell}"
                                                                ElementStyle="{DynamicResource DataGridElementRightMargin}"
                                                                Header="Latitude" />
                                            <DataGridTextColumn Binding="{Binding Longitude}"
                                                                MinWidth="100"
                                                                HeaderStyle="{DynamicResource DataGridHeaderCenter}"
                                                                CellStyle="{DynamicResource NoSelectCell}"
                                                                ElementStyle="{DynamicResource DataGridElementRightMargin}"
                                                                Header="Longitude" />
                                            <DataGridTemplateColumn Width="36"
                                                                    CellStyle="{DynamicResource ButtonGridCell}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Style="{DynamicResource EliteStyleButton}"
                                                                FontFamily="Segoe MDL2 Assets"
                                                                FontSize="16"
                                                                Content="&#xE70F;"
                                                                Command="{Binding ElementName=Root, Path=DataContext.SelectBookmarkCommand}"
                                                                CommandParameter="{Binding }" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Border>
                        </Grid>
                    </TabItem>
                    <TabItem Header="All Bookmarks">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="350" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <Border Background="{DynamicResource CardBackground}"
                                    Margin="5"
                                    Padding="5"
                                    CornerRadius="5">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Systems"
                                               Foreground="{DynamicResource Header}"
                                               FontSize="20" />
                                    <ListBox ItemsSource="{Binding FilteredBookmarks}"
                                             SelectedItem="{Binding SelectedSystem}"
                                             Grid.Row="1"
                                             ScrollViewer.HorizontalScrollBarVisibility="Visible"
                                             ScrollViewer.VerticalScrollBarVisibility="Visible"
                                             ItemContainerStyle="{DynamicResource SelectedContainerStyle}"
                                             Background="Transparent"
                                             BorderThickness="0">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <Button Style="{DynamicResource EliteStyleButton}"
                                                        Content="{Binding Name}"
                                                        FontSize="22"
                                                        Margin="5,0"
                                                        Height="40"
                                                        Grid.Column="1"
                                                        Command="{Binding ElementName=Root, Path=DataContext.SelectSystemCommand}"
                                                        CommandParameter="{Binding }"
                                                        HorizontalAlignment="Stretch"
                                                        HorizontalContentAlignment="Stretch" />
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </Grid>
                            </Border>


                            <Grid Grid.Column="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <Border Background="{DynamicResource CardBackground}"
                                        Margin="5"
                                        Padding="5"
                                        Width="Auto"
                                        Height="Auto"
                                        CornerRadius="5">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <TextBlock Text="Selected System"
                                                   Grid.ColumnSpan="4"
                                                   Foreground="{DynamicResource Header}"
                                                   FontSize="20" />
                                        <TextBlock Text="Name"
                                                   Grid.Row="1"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedSystem.Name}"
                                                   Grid.Row="1"
                                                   Grid.Column="1"
                                                   TextAlignment="Left"
                                                   HorizontalAlignment="Left"
                                                   Margin="5" />

                                        <TextBlock Text="Address"
                                                   Grid.Row="2"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedSystem.Address}"
                                                   Grid.Row="2"
                                                   Grid.Column="1"
                                                   Width="100"
                                                   TextAlignment="Left"
                                                   HorizontalAlignment="Left"
                                                   Margin="5" />

                                        <TextBlock Text="X"
                                                   Grid.Column="3"
                                                   Grid.Row="1"
                                                   Width="100"
                                                   TextAlignment="Center"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedSystem.XString}"
                                                   Grid.Column="3"
                                                   Grid.Row="2"
                                                   Width="100"
                                                   TextAlignment="Center"
                                                   Margin="5" />

                                        <TextBlock Text="Y"
                                                   Grid.Column="4"
                                                   Grid.Row="1"
                                                   Width="100"
                                                   TextAlignment="Center"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedSystem.YString}"
                                                   Grid.Column="4"
                                                   Grid.Row="2"
                                                   Width="100"
                                                   TextAlignment="Center"
                                                   Margin="5" />

                                        <TextBlock Text="Z"
                                                   Grid.Column="5"
                                                   Grid.Row="1"
                                                   Width="100"
                                                   TextAlignment="Center"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedSystem.ZString}"
                                                   Grid.Column="5"
                                                   Width="100"
                                                   Grid.Row="2"
                                                   TextAlignment="Center"
                                                   Margin="5" />
                                    </Grid>
                                </Border>

                                <Border Background="{DynamicResource CardBackground}"
                                        Margin="5"
                                        Padding="5"
                                        Grid.Column="0"
                                        Grid.ColumnSpan="2"
                                        Grid.Row="1"
                                        Height="120"
                                        CornerRadius="5">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>

                                        <TextBlock Text="System Notes"
                                                   Grid.ColumnSpan="4"
                                                   Foreground="{DynamicResource Header}"
                                                   FontSize="20" />

                                        <TextBox Grid.Row="1"
                                                 Margin="5"
                                                 Style="{DynamicResource PopOutTextBox}"
                                                 Foreground="{DynamicResource PrimaryForeground}"
                                                 Text="{Binding SelectedSystem.Notes}" />
                                    </Grid>
                                </Border>

                                <Border Background="{DynamicResource CardBackground}"
                                        Margin="5"
                                        Padding="5"
                                        Grid.Row="2"
                                        CornerRadius="5">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <TextBlock Text="Selected Bookmark"
                                                   Grid.ColumnSpan="4"
                                                   Foreground="{DynamicResource Header}"
                                                   FontSize="20" />

                                        <TextBlock Text="Body"
                                                   Grid.Row="1"
                                                   Margin="5" />
                                        <TextBlock Text="{Binding SelectedBookmarkAll.BodyNameLocal}"
                                                   Grid.Row="2"
                                                   Margin="5" />

                                        <TextBlock Text="Name"
                                                   Grid.Row="1"
                                                   Grid.Column="1"
                                                   Margin="5" />
                                        <TextBox Margin="5"
                                                 Text="{Binding SelectedBookmarkAll.BookmarkName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 Foreground="{DynamicResource PrimaryForeground}"
                                                 Style="{DynamicResource PopOutTextBox}"
                                                 Width="150"
                                                 Grid.Column="1"
                                                 Grid.Row="2" />

                                        <TextBlock Text="Description"
                                                   Grid.Row="1"
                                                   Grid.Column="2"
                                                   Margin="5" />
                                        <TextBox Margin="5"
                                                 Style="{DynamicResource PopOutTextBox}"
                                                 Text="{Binding SelectedBookmarkAll.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 Foreground="{DynamicResource PrimaryForeground}"
                                                 Grid.Column="2"
                                                 Grid.Row="2" />

                                        <TextBlock Text="Latitude"
                                                   Grid.Row="1"
                                                   Grid.Column="3"
                                                   Margin="5" />
                                        <controls:NumberInputBox Width="150"
                                                                 Foreground="{DynamicResource PrimaryForeground}"
                                                                 Grid.Column="3"
                                                                 Grid.Row="2"
                                                                 Margin="5,0"
                                                                 InputText="{Binding SelectedBookmarkAll.LatString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 VerticalContentAlignment="Center"
                                                                 TextBlock.TextAlignment="Right" />

                                        <TextBlock Text="Longitude"
                                                   Grid.Row="1"
                                                   Grid.Column="4"
                                                   Margin="5" />
                                        <controls:NumberInputBox Width="150"
                                                                 Grid.Column="4"
                                                                 Grid.Row="2"
                                                                 Margin="5,0"
                                                                 Foreground="{DynamicResource PrimaryForeground}"
                                                                 InputText="{Binding SelectedBookmarkAll.LonString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 VerticalContentAlignment="Center"
                                                                 TextBlock.TextAlignment="Right" />

                                        <Button Style="{DynamicResource EliteStyleButton}"
                                                FontFamily="Segoe MDL2 Assets"
                                                Content="&#xE74E;"
                                                Grid.Column="5"
                                                Grid.Row="2"
                                                Margin="2"
                                                Command="{Binding SaveBookmarkAllCommand}" />

                                        <Button Style="{DynamicResource EliteStyleButton}"
                                                FontFamily="Segoe MDL2 Assets"
                                                Content="&#xE74D;"
                                                Grid.Column="6"
                                                Grid.Row="2"
                                                Margin="2"
                                                Command="{Binding DeleteBookmarkAllCommand}" />
                                    </Grid>
                                </Border>
                                <Border Background="{DynamicResource CardBackground}"
                                        Margin="5"
                                        Padding="5"
                                        Grid.Row="3"
                                        CornerRadius="5">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock Text="Bookmarks"
                                                   Grid.ColumnSpan="4"
                                                   Foreground="{DynamicResource Header}"
                                                   FontSize="20" />
                                        <DataGrid ItemsSource="{Binding SelectedSystem.Bookmarks}"
                                                  HeadersVisibility="Column"
                                                  Grid.Row="1"
                                                  Margin="5"
                                                  MinRowHeight="30"
                                                  BorderThickness="0"
                                                  AlternatingRowBackground="{DynamicResource RowAlternationColour}"
                                                  Style="{StaticResource BaseDataGridStyle}"
                                                  RowStyle="{DynamicResource NoSelectRowStyle}">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Binding="{Binding BodyNameLocal}"
                                                                    HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                    CellStyle="{DynamicResource NoSelectCell}"
                                                                    MinWidth="100"
                                                                    Header="Body" />
                                                <DataGridTextColumn Binding="{Binding BookmarkName}"
                                                                    HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                    CellStyle="{DynamicResource NoSelectCell}"
                                                                    MinWidth="100"
                                                                    Header="Name" />
                                                <DataGridTextColumn Binding="{Binding Description}"
                                                                    HeaderStyle="{DynamicResource DataGridHeaderLeft}"
                                                                    CellStyle="{DynamicResource NoSelectCell}"
                                                                    Width="*"
                                                                    Header="Description" />
                                                <DataGridTextColumn Binding="{Binding Latitude}"
                                                                    MinWidth="100"
                                                                    HeaderStyle="{DynamicResource DataGridHeaderCenter}"
                                                                    CellStyle="{DynamicResource NoSelectCell}"
                                                                    ElementStyle="{DynamicResource DataGridElementRightMargin}"
                                                                    Header="Latitude" />
                                                <DataGridTextColumn Binding="{Binding Longitude}"
                                                                    MinWidth="100"
                                                                    HeaderStyle="{DynamicResource DataGridHeaderCenter}"
                                                                    CellStyle="{DynamicResource NoSelectCell}"
                                                                    ElementStyle="{DynamicResource DataGridElementRightMargin}"
                                                                    Header="Longitude" />
                                                <DataGridTemplateColumn Width="36"
                                                                        CellStyle="{DynamicResource ButtonGridCell}">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Button Style="{DynamicResource EliteStyleButton}"
                                                                    FontFamily="Segoe MDL2 Assets"
                                                                    FontSize="16"
                                                                    Command="{Binding ElementName=Root, Path=DataContext.SelectBookmarkAllCommand}"
                                                                    CommandParameter="{Binding }"
                                                                    Content="&#xE70F;" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </Grid>

                                </Border>
                            </Grid>

                        </Grid>
                    </TabItem>
                </TabControl>

                <StackPanel HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Margin="20,10"
                            Orientation="Horizontal">
                    <Button Style="{DynamicResource EliteStyleButton}"
                            FontFamily="Segoe MDL2 Assets"
                            Content="&#xf0ae;"
                            HorizontalContentAlignment="Center"
                            Height="25"
                            Margin="10,0"
                            Command="{Binding ImportBookmarks}">
                        <Button.ToolTip>
                            <ToolTip Placement="Top"
                                     FontFamily="{StaticResource Eurostile}"
                                     Content="Import Bookmarks" />
                        </Button.ToolTip>
                    </Button>
                    <Button Style="{DynamicResource EliteStyleButton}"
                            FontFamily="Segoe MDL2 Assets"
                            Content="&#xf0ad;"
                            HorizontalContentAlignment="Center"
                            Height="25"
                            Command="{Binding ExportBookmarks}">
                        <Button.ToolTip>
                            <ToolTip Placement="Top"
                                     FontFamily="{StaticResource Eurostile}"
                                     Content="Export Bookmarks" />
                        </Button.ToolTip>
                    </Button>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</views:ODWindowBase>
